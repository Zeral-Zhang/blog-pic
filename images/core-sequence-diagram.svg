<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="799px" preserveAspectRatio="none" style="width:2134px;height:799px;background:#FFFFFF;" version="1.1" viewBox="0 0 2134 799" width="2134px" zoomAndPan="magnify"><defs><filter height="300%" id="factjw2v2sqfr" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="348" x="891" y="29.4023">Spring Data JPA Core Sequence Diagram</text><rect fill="#FFFFFF" filter="url(#factjw2v2sqfr)" height="610.2793" style="stroke:#A80036;stroke-width:1.0;" width="10" x="483.5" y="173.6191"/><rect fill="#FFFFFF" filter="url(#factjw2v2sqfr)" height="567.9688" style="stroke:#A80036;stroke-width:1.0;" width="10" x="689" y="215.9297"/><rect fill="#FFFFFF" filter="url(#factjw2v2sqfr)" height="162.5078" style="stroke:#000000;stroke-width:2.0;" width="1155" x="965" y="613.3906"/><rect fill="#FFFFFF" height="73.5762" style="stroke:none;stroke-width:1.0;" width="1155" x="965" y="702.3223"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="109" x2="109" y1="75.6875" y2="792.8984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="302" x2="302" y1="75.6875" y2="792.8984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="488" x2="488" y1="75.6875" y2="792.8984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="694" x2="694" y1="75.6875" y2="792.8984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="885.5" x2="885.5" y1="333.2949" y2="792.8984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1099" x2="1099" y1="421.0938" y2="792.8984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1316" x2="1316" y1="75.6875" y2="792.8984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1553" x2="1553" y1="75.6875" y2="792.8984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2041" x2="2041" y1="75.6875" y2="792.8984"/><rect fill="#FEFECE" filter="url(#factjw2v2sqfr)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="204" x="5" y="40.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190" x="12" y="60.7344">AbstractApplicationContext</text><rect fill="#FEFECE" filter="url(#factjw2v2sqfr)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="154" x="223" y="40.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="230" y="60.7344">AbstractBeanFactory</text><rect fill="#FEFECE" filter="url(#factjw2v2sqfr)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="191" x="391" y="40.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177" x="398" y="60.7344">JpaRepositoryFactoryBean</text><rect fill="#FEFECE" filter="url(#factjw2v2sqfr)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="192" x="596" y="40.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="603" y="60.7344">RepositoryFactorySupport</text><rect fill="#FEFECE" filter="url(#factjw2v2sqfr)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="162" x="1233" y="40.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="1240" y="60.7344">QueryLookupStrategy</text><rect fill="#FEFECE" filter="url(#factjw2v2sqfr)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="284" x="1409" y="40.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="270" x="1416" y="60.7344">CreateIfNotFoundQueryLookupStrategy</text><rect fill="#FEFECE" filter="url(#factjw2v2sqfr)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="134" x="1972" y="40.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="1979" y="60.7344">PartTreeJpaQuery</text><rect fill="#FFFFFF" filter="url(#factjw2v2sqfr)" height="610.2793" style="stroke:#A80036;stroke-width:1.0;" width="10" x="483.5" y="173.6191"/><rect fill="#FFFFFF" filter="url(#factjw2v2sqfr)" height="567.9688" style="stroke:#A80036;stroke-width:1.0;" width="10" x="689" y="215.9297"/><polygon fill="#A80036" points="290,102.998,300,106.998,290,110.998,294,106.998" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="109" x2="296" y1="106.998" y2="106.998"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="116" y="102.2559">refresh</text><polygon fill="#A80036" points="476.5,132.3086,486.5,136.3086,476.5,140.3086,480.5,136.3086" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="302" x2="482.5" y1="136.3086" y2="136.3086"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="309" y="131.5664">createBean</text><line style="stroke:#A80036;stroke-width:1.0;" x1="488.5" x2="535.5" y1="160.6191" y2="160.6191"/><line style="stroke:#A80036;stroke-width:1.0;" x1="535.5" x2="535.5" y1="160.6191" y2="173.6191"/><line style="stroke:#A80036;stroke-width:1.0;" x1="494.5" x2="535.5" y1="173.6191" y2="173.6191"/><polygon fill="#A80036" points="504.5,169.6191,494.5,173.6191,504.5,177.6191,500.5,173.6191" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="500.5" y="155.877">afterPropertiesSet</text><line style="stroke:#A80036;stroke-width:1.0;" x1="493.5" x2="540.5" y1="202.9297" y2="202.9297"/><line style="stroke:#A80036;stroke-width:1.0;" x1="540.5" x2="540.5" y1="202.9297" y2="215.9297"/><line style="stroke:#A80036;stroke-width:1.0;" x1="499.5" x2="540.5" y1="215.9297" y2="215.9297"/><polygon fill="#A80036" points="509.5,211.9297,499.5,215.9297,509.5,219.9297,505.5,215.9297" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="505.5" y="198.1875">createRepositoryFactory</text><polygon fill="#A80036" points="677,246.2402,687,250.2402,677,254.2402,681,250.2402" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="493.5" x2="683" y1="250.2402" y2="250.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="500.5" y="245.498">this.factory.getRepository</text><line style="stroke:#A80036;stroke-width:1.0;" x1="699" x2="741" y1="279.5508" y2="279.5508"/><line style="stroke:#A80036;stroke-width:1.0;" x1="741" x2="741" y1="279.5508" y2="292.5508"/><line style="stroke:#A80036;stroke-width:1.0;" x1="700" x2="741" y1="292.5508" y2="292.5508"/><polygon fill="#A80036" points="710,288.5508,700,292.5508,710,296.5508,706,292.5508" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="706" y="274.8086">getRepositoryComposition</text><polygon fill="#A80036" points="820.5,317.8613,830.5,321.8613,820.5,325.8613,824.5,321.8613" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="699" x2="826.5" y1="321.8613" y2="321.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="706" y="317.1191">create</text><rect fill="#FEFECE" filter="url(#factjw2v2sqfr)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="103" x="832.5" y="300.5508"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="839.5" y="321.0859">ProxyFactory</text><line style="stroke:#A80036;stroke-width:1.0;" x1="886" x2="928" y1="367.3496" y2="367.3496"/><line style="stroke:#A80036;stroke-width:1.0;" x1="928" x2="928" y1="367.3496" y2="380.3496"/><line style="stroke:#A80036;stroke-width:1.0;" x1="887" x2="928" y1="380.3496" y2="380.3496"/><polygon fill="#A80036" points="897,376.3496,887,380.3496,897,384.3496,893,380.3496" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="893" y="362.6074">addAdvice...</text><polygon fill="#A80036" points="963,405.6602,973,409.6602,963,413.6602,967,409.6602" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="886" x2="969" y1="409.6602" y2="409.6602"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="893" y="404.918">addAdvice</text><rect fill="#FEFECE" filter="url(#factjw2v2sqfr)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="244" x="975" y="388.3496"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="230" x="982" y="408.8848">QueryExecutorMethodInterceptor</text><line style="stroke:#A80036;stroke-width:1.0;" x1="886" x2="928" y1="455.1484" y2="455.1484"/><line style="stroke:#A80036;stroke-width:1.0;" x1="928" x2="928" y1="455.1484" y2="468.1484"/><line style="stroke:#A80036;stroke-width:1.0;" x1="887" x2="928" y1="468.1484" y2="468.1484"/><polygon fill="#A80036" points="897,464.1484,887,468.1484,897,472.1484,893,468.1484" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="893" y="450.4063">addAdvice...</text><line style="stroke:#A80036;stroke-width:1.0;" x1="886" x2="928" y1="497.459" y2="497.459"/><line style="stroke:#A80036;stroke-width:1.0;" x1="928" x2="928" y1="497.459" y2="510.459"/><line style="stroke:#A80036;stroke-width:1.0;" x1="887" x2="928" y1="510.459" y2="510.459"/><polygon fill="#A80036" points="897,506.459,887,510.459,897,514.459,893,510.459" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="893" y="492.7168">getProxy</text><polygon fill="#A80036" points="710,535.7695,700,539.7695,710,543.7695,706,539.7695" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="704" x2="885" y1="539.7695" y2="539.7695"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="716" y="535.0273">return repository</text><polygon fill="#A80036" points="1304,565.0801,1314,569.0801,1304,573.0801,1308,569.0801" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1099" x2="1310" y1="569.0801" y2="569.0801"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="1106" y="564.3379">mapMethodsToQuery</text><polygon fill="#A80036" points="1541,594.3906,1551,598.3906,1541,602.3906,1545,598.3906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1316" x2="1547" y1="598.3906" y2="598.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="1323" y="593.6484">resolveQuery</text><path d="M965,613.3906 L1027,613.3906 L1027,620.3906 L1017,630.3906 L965,630.3906 L965,613.3906 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="162.5078" style="stroke:#000000;stroke-width:2.0;" width="1155" x="965" y="613.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="980" y="626.959">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="54" x="1042" y="626.0254">[if found]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1553" x2="1595" y1="652.0117" y2="652.0117"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1595" x2="1595" y1="652.0117" y2="665.0117"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1554" x2="1595" y1="665.0117" y2="665.0117"/><polygon fill="#A80036" points="1564,661.0117,1554,665.0117,1564,669.0117,1560,665.0117" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="474" x="1560" y="647.2695">fromQueryAnnotation/fromProcedureAnnotation/NamedQuery.lookupFrom</text><polygon fill="#A80036" points="1110,690.3223,1100,694.3223,1110,698.3223,1106,694.3223" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1104" x2="1552" y1="694.3223" y2="694.3223"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="1116" y="689.5801">return RepositoryQuery</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="965" x2="2120" y1="703.3223" y2="703.3223"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="63" x="970" y="713.957">[not found]</text><polygon fill="#A80036" points="2029,734.5879,2039,738.5879,2029,742.5879,2033,738.5879" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1553" x2="2035" y1="738.5879" y2="738.5879"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="1560" y="733.8457">CreateQueryLookupStrategy.resolveQuery</text><polygon fill="#A80036" points="1110,763.8984,1100,767.8984,1110,771.8984,1106,767.8984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1104" x2="2040" y1="767.8984" y2="767.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="1116" y="763.1563">return RepositoryQuery</text><!--MD5=[039906fcab86df5aef3010446b45ce63]
@startuml
hide footbox
title Spring Data JPA Core Sequence Diagram

AbstractApplicationContext -> AbstractBeanFactory : refresh
AbstractBeanFactory -> JpaRepositoryFactoryBean : createBean
JpaRepositoryFactoryBean -> JpaRepositoryFactoryBean : afterPropertiesSet
activate JpaRepositoryFactoryBean
JpaRepositoryFactoryBean -> JpaRepositoryFactoryBean : createRepositoryFactory

activate RepositoryFactorySupport
JpaRepositoryFactoryBean -> RepositoryFactorySupport : this.factory.getRepository
RepositoryFactorySupport -> RepositoryFactorySupport : getRepositoryComposition
RepositoryFactorySupport -> ProxyFactory ** : create

ProxyFactory -> ProxyFactory : addAdvice...
ProxyFactory -> QueryExecutorMethodInterceptor ** : addAdvice
ProxyFactory -> ProxyFactory : addAdvice...
ProxyFactory -> ProxyFactory : getProxy
RepositoryFactorySupport <- ProxyFactory : return repository

QueryExecutorMethodInterceptor -> QueryLookupStrategy : mapMethodsToQuery
QueryLookupStrategy -> CreateIfNotFoundQueryLookupStrategy : resolveQuery

Alt if found
    CreateIfNotFoundQueryLookupStrategy -> CreateIfNotFoundQueryLookupStrategy : fromQueryAnnotation/fromProcedureAnnotation/NamedQuery.lookupFrom
    QueryExecutorMethodInterceptor <- CreateIfNotFoundQueryLookupStrategy : return RepositoryQuery
else not found
    CreateIfNotFoundQueryLookupStrategy -> PartTreeJpaQuery : CreateQueryLookupStrategy.resolveQuery
    QueryExecutorMethodInterceptor <- PartTreeJpaQuery : return RepositoryQuery
end
@enduml

PlantUML version 1.2021.11(Sat Oct 02 21:26:11 CST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>